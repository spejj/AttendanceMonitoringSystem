:root{
  --bg:#F8F9FA;
  --card:#ffffff;
  --muted:#6b7280;
  --primary:#3A86FF;
  --green:#06D6A0;
  --amber:#FFC107;
  --red:#EF476F;
  --shadow: 0 4px 18px rgba(16,24,40,0.06);
  --radius:12px;
  --container:1100px;
  font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:#111827;-webkit-font-smoothing:antialiased}

.container{max-width:var(--container);margin:0 auto;padding:0 1rem}
.center-page{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}

.card{background:var(--card);border-radius:12px;padding:1.25rem;box-shadow:var(--shadow)}
.max-w-md{width:100%;max-width:540px}
.title{font-size:1.75rem;margin:0;color:#111827}
.muted{color:var(--muted)}
.form-stack .label{display:block;margin-bottom:.5rem;font-weight:600}
.input,.select{width:100%;padding:.6rem .8rem;border:1px solid #e6e6e6;border-radius:8px;background:#F8F9FA;margin-top:.4rem}
.btn{padding:.5rem .75rem;border-radius:10px;border:0;cursor:pointer;font-weight:600}
.btn.sm{padding:.35rem .6rem;font-size:.9rem}
.btn.primary{background:var(--primary);color:#fff}
.btn.secondary{background:#f3f4f6;color:#111827;border:1px solid #e6e6e6}
.btn.destructive{background:var(--red);color:#fff}
.w-full{width:100%}
.text-center{text-align:center}
.mb-6{margin-bottom:1.5rem}
.space-y> * + *{margin-top:1.25rem}

/* Topbar */
.topbar{background:#fff;box-shadow:0 1px 6px rgba(15,23,42,0.06);position:sticky;top:0;z-index:20}
.nav-flex{display:flex;align-items:center;justify-content:space-between;height:64px}
.brand{color:var(--primary);font-weight:700}
.nav-links{display:flex;gap:.5rem}
.nav-btn{background:transparent;border:0;padding:.5rem  .6rem;border-bottom:2px solid transparent;cursor:pointer}
.nav-btn.active{color:var(--primary);border-bottom-color:var(--primary)}
.nav-right{display:flex;align-items:center;gap:.75rem}

/* layout */
.page-content{padding:2rem 1rem}
.page-title{font-size:1.5rem;margin:0}
.grid-stats{display:grid;grid-template-columns:repeat(1,1fr);gap:1rem}
.grid-3{display:grid;grid-template-columns:1fr;gap:1rem}
.grid-2{display:grid;grid-template-columns:1fr;gap:1rem}
@media(min-width:640px){
  .grid-stats{grid-template-columns:repeat(2,1fr)}
  .grid-3{grid-template-columns:2fr 1fr}
  .grid-2{grid-template-columns:1fr 1fr}
}
@media(min-width:1024px){
  .grid-stats{grid-template-columns:repeat(4,1fr)}
  .grid-3{grid-template-columns:2fr 1fr}
}

/* stats */
.stat{display:flex;align-items:center;gap:.75rem;padding:1rem}
.stat-icon{width:48px;height:48px;border-radius:999px;display:grid;place-items:center;color:#fff}
.stat-icon.blue{background:var(--primary)}
.stat-icon.green{background:var(--green)}
.stat-icon.amber{background:var(--amber)}
.stat-icon.red{background:var(--red)}
.stat-value{font-size:1.5rem;margin:0}

/* table */
.table-wrap{overflow-x:auto}
.table{width:100%;border-collapse:collapse}
.table th{text-align:left;padding:.8rem;border-bottom:1px solid #eee;color:var(--muted)}
.table td{padding:.75rem;border-bottom:1px solid #f3f4f6;vertical-align:middle}
.btn-group .btn{margin-right:.5rem}

/* instructor */
.big-title{font-size:2rem;margin:.25rem 0}
.text-right{text-align:right}
.chart-box{height:260px;display:flex;align-items:center;justify-content:center;background:#f9fafb;border-radius:8px;color:var(--muted)}

/* take attendance */
.flex-between{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}
.link-back{background:transparent;border:0;color:var(--primary);cursor:pointer}
.filter-btn.active{background:var(--primary);color:#fff}

/* modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.25)}
.modal[aria-hidden="false"]{display:flex}
.modal-content{width:90%;max-width:420px;padding:1.5rem}

/* Dark mode support */
body.dark-mode {
  --bg: #1a1a1a;
  --card: #242424;
  --muted: #888888;
  color: #e5e5e5;
}
body.dark-mode .input,
body.dark-mode .select {
  background: #2a2a2a;
  border-color: #404040;
  color: #e5e5e5;
}
body.dark-mode .btn.secondary {
  background: #2a2a2a;
  border-color: #404040;
  color: #e5e5e5;
}
body.dark-mode .table td {
  border-bottom-color: #404040;
}
body.dark-mode .table th {
  border-bottom-color: #404040;
  color: #888888;
}

/* Notification center */
.notification {
  padding: 1rem;
  border-bottom: 1px solid #eee;
}
body.dark-mode .notification {
  border-bottom-color: #404040;
}
.notification.unread {
  background: #f0f9ff;
}
body.dark-mode .notification.unread {
  background: #1e293b;
}
.notification p {
  margin: .25rem 0;
}
#notificationBtn {
  position: relative;
}
#notificationCount {
  position: absolute;
  top: -5px;
  right: -5px;
  font-size: .7rem;
  padding: .1rem .3rem;
}

/* Enhanced form controls */
.input.sm, .select.sm {
  padding: .35rem .5rem;
  font-size: .9rem;
}
.select[multiple] {
  height: auto;
  min-height: 120px;
}

/* Feed improvements */
.feed {
  list-style: none;
  margin: 0;
  padding: 0;
}
.feed li {
  padding: .75rem 0;
  border-bottom: 1px solid #eee;
}
body.dark-mode .feed li {
  border-bottom-color: #404040;
}
.feed li:last-child {
  border-bottom: none;
}
.feed p {
  margin: .25rem 0;
  color: var(--muted);
}

/* small utilities */
.hide-sm{display:none}
@media(min-width:640px){.hide-sm{display:block}}
.hide-md{display:none}
@media(min-width:768px){.hide-md{display:block}}
.center{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}
.big-number{font-size:3.5rem;margin:.25rem 0}
.big-number.green{color:var(--green)}
.big-number.blue{color:var(--primary)}
.mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace}
.list-plain{list-style:none;margin:0;padding:0}
.list-item{display:flex;justify-content:space-between;align-items:center;padding:.6rem 0}
.timeline{list-style:none;padding:0;margin:0}
.timeline-item{padding:.6rem 0;border-left:4px solid transparent}
.timeline-item.green{border-left-color:var(--green)}
.timeline-item.red{border-left-color:var(--red)}
.badge{padding:.25rem .5rem;border-radius:8px;color:#fff;font-weight:700;font-size:.8rem}
.badge.green{background:var(--green)}
.badge.red{background:var(--red)}
.badge.amber{background:var(--amber)}
.highlight{color:var(--primary);font-weight:700}
.small{font-size:.95rem}
.warning{background:linear-gradient(180deg,#fffbeb,#fff6e6);border:1px solid rgba(255,193,7,0.12)}

/* Additional utilities */
.mt-6{margin-top:1.5rem}
.space-x > * + * {margin-left:.75rem}
.btn-group{display:flex;gap:.5rem}
.flex-between{display:flex;justify-content:space-between;align-items:center}
.stack > * + *{margin-top:1rem}
.filters{background:#f9fafb;padding:1rem;border-radius:8px}
body.dark-mode .filters{background:#2a2a2a}
